<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lilacs by ricardoalcocer</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/ricardoalcocer/lilacs">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/ricardoalcocer/lilacs/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/ricardoalcocer/lilacs/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Lilacs</h1>
          <p>An Instant database and REST API for your web and/or mobile apps.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/ricardoalcocer">ricardoalcocer</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <p></p><img src="https://raw.github.com/ricardoalcocer/lilacs/master/public/images/retro_flower_1_color_colour_lilac_peace-999px.png" width="200"><h1>
<a name="lilacs-beta" class="anchor" href="#lilacs-beta"><span class="octicon octicon-link"></span></a>LilACS (Beta)</h1>

<p></p>

<p>LilACS (Li'l ACS) is a combiantion of Node.ACS (to expose an API) + ACS (as a data store), that will provide you with an instant API for you mobile or web app.</p>

<hr><h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<hr><p>The steps to get LilACS are:</p>

<h2>
<a name="1-install-acs-if-you-dont-already-have-it" class="anchor" href="#1-install-acs-if-you-dont-already-have-it"><span class="octicon octicon-link"></span></a>1. Install ACS if you don't already have it:</h2>

<pre><code>$ [sudo] npm install acs -g
</code></pre>

<h2>
<a name="2-login-to-acs" class="anchor" href="#2-login-to-acs"><span class="octicon octicon-link"></span></a>2. Login to ACS:</h2>

<pre><code>$ acs login
</code></pre>

<h2>
<a name="3-create-acs-app" class="anchor" href="#3-create-acs-app"><span class="octicon octicon-link"></span></a>3. Create ACS App</h2>

<p>Go to <a href="https://my.appcelerator.com/apps">https://my.appcelerator.com/apps</a> and create an ACS-only app.  Open this app, create an admin user and grab the ACS Key and ACS Secret</p>

<h2>
<a name="4-clone-lilacs" class="anchor" href="#4-clone-lilacs"><span class="octicon octicon-link"></span></a>4. Clone LilACS</h2>

<pre><code>$ git clone https://github.com/ricardoalcocer/lilacs.git
</code></pre>

<h2>
<a name="5-add-settings" class="anchor" href="#5-add-settings"><span class="octicon octicon-link"></span></a>5. Add settings</h2>

<p>Open <strong>/lib/lilacs_template.js</strong> and add your ACS Keys and admin user info.  Save this file as <strong>/lib/lilacs.js</strong></p>

<h2>
<a name="6-launch-and-turn" class="anchor" href="#6-launch-and-turn"><span class="octicon octicon-link"></span></a>6. Launch and turn</h2>

<ul>
<li>From a terminal, go to your project folder and run it: </li>
</ul><pre><code>$ acs run
</code></pre>

<ul>
<li>Point your browser to http://localhost:8080.  LilACS should be running</li>
</ul><hr><h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<hr><p>Once you have LilACS running, your backend is ready to start receiving requests at http://your_domain:port/api/xxxxx.  </p>

<h3>
<a name="the-basics" class="anchor" href="#the-basics"><span class="octicon octicon-link"></span></a>The basics</h3>

<p>Records are added to <strong>datasets</strong>.  Your base url will allways be:</p>

<pre><code>http://yourhost/api
</code></pre>

<p>The next querystring parameter is the <strong>dataset</strong>, so if your <strong>dataset</strong> is employees, your URL will be:</p>

<pre><code>http://yourhost/api/employees
</code></pre>

<h3>
<a name="adding-records" class="anchor" href="#adding-records"><span class="octicon octicon-link"></span></a>Adding records</h3>

<p>Records are added via HTTP Post.  Simply post a JavaScript Object in the <strong>data</strong> variable to http://yourhost/api/set.  For example:</p>

<p>Example object:</p>

<pre><code>{
    name: 'Ricardo',
    lname: 'Alcocer,
    department: 'Finance'
}
</code></pre>

<p>To add this record to the employee <strong>dataset</strong>, simply <strong>POST</strong> the data via HTTP.  Data needs to be sent in a variable named <strong>data</strong>.</p>

<pre><code>http://yourhost/api/employees/set

</code></pre>

<h3>
<a name="updating-records" class="anchor" href="#updating-records"><span class="octicon octicon-link"></span></a>Updating records</h3>

<p>Updating is similar to Adding, but simply call <strong>/edit</strong> and <strong>POST</strong> the variable <strong>id</strong> along with <strong>data</strong>, id being the id of the record to update.  Your record will be replaced with the newly posted one.</p>

<pre><code>http://yourhost/api/employees/edit

</code></pre>

<h3>
<a name="deleting-records" class="anchor" href="#deleting-records"><span class="octicon octicon-link"></span></a>Deleting records</h3>

<p>To delete simply call <strong>/delete</strong> and <strong>POST</strong> the variable <strong>id</strong>, id being the id of the record to remove.  In case you wish to delete more than one record, sent the variable <strong>ids</strong> instead and all record ids separated by commas.</p>

<pre><code>http://yourhost/api/employees/delete

</code></pre>

<h2>
<a name="querying-records" class="anchor" href="#querying-records"><span class="octicon octicon-link"></span></a>Querying records</h2>

<p>Right after adding your first record, a full REST API will be exposed to you to manage the data, in our example located at:</p>

<pre><code>http://yourhost/api/employees/get/all
</code></pre>

<p><strong>LilACS</strong> exposes the following arguments from the ACS 'query' method:</p>

<ul>
<li>where (exposed as get. allows comma-separated list of value-pairs)</li>
<li>classname (exposed as the first paramenter after /api)</li>
<li>order (allows comma-separated list of columns and minus sign (-) for inverse sort order)</li>
<li>page</li>
<li>per_page</li>
<li>limit</li>
<li>skip</li>
<li>columns (allows comma-separated list of columns to get in your result set)</li>
</ul><h2>
<a name="use-cases" class="anchor" href="#use-cases"><span class="octicon octicon-link"></span></a>Use-cases</h2>

<p><strong>Get all records from employees where department='Finance'</strong></p>

<pre><code>http://yourhost/api/employees/get/department='Finance'
</code></pre>

<p><strong>Get all employees ordered by name</strong></p>

<pre><code>http://yourhost/api/employees/get/all/order/name
</code></pre>

<p><strong>Get all employees ordered by name but only the id and name columns</strong></p>

<pre><code>http://yourhost/api/employees/get/all/order/name/columns/id,name
</code></pre>

<p><strong>Get all employees where name='Ricardo' and order by creation date descending</strong></p>

<pre><code>http://yourhost/api/employees/name="Ricardo"/order/-created_at
</code></pre>

<p><strong>Get all employees where name="Ricardo" and department="Finance" order by creation date descending</strong></p>

<pre><code>http://yourhost/api/employees/name="Ricardo",department="Finance"/order/-created_at
</code></pre>

<p>Note: Allowed logical operators are: =, &gt;, &lt;, &gt;=, &lt;= and !=</p>

<p><strong>Pagination : Previous example, but in pages of 10 records each</strong></p>

<pre><code>http://yourhost/api/employees/name='Ricardo'/order/-created_at/per_page/10/page/1
</code></pre>

<p><strong>NOTE</strong>
Querystring parameters are value pairs, for example when querying a page, the URL looks like <strong>/page/1</strong>, where page is the variable and 1 is the value.  In case a parameter can receive multiple values, they are separated by commas.</p>

<hr><h1>
<a name="stuff-to-do-and-in-the-works" class="anchor" href="#stuff-to-do-and-in-the-works"><span class="octicon octicon-link"></span></a>Stuff to-do and in-the-works</h1>

<hr><h2>
<a name="events" class="anchor" href="#events"><span class="octicon octicon-link"></span></a>Events</h2>

<p>Mechanism for adding onSet, onEdit, onValidate, onDelete events.  Initial tests are located in the file <strong>/lib/lilacsevents</strong>.js</p>

<h2>
<a name="databrowser" class="anchor" href="#databrowser"><span class="octicon octicon-link"></span></a>Databrowser</h2>

<p>Provide an admin insterface for adminsitering records and events.  Initial tests are located at http://yourhost/admin.</p>

<hr><h1>
<a name="contribuitors" class="anchor" href="#contribuitors"><span class="octicon octicon-link"></span></a>Contribuitors</h1>

<hr><ul>
<li>Ricardo Alcocer</li>
</ul><p>Pull requests are encouraged</p>

<hr><h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<hr><p>Licensed under the terms of the MIT License | <a href="http://alco.mit-license.org/">http://alco.mit-license.org/</a></p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-45566694-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>